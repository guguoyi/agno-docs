---
title: "AgentOS on Docker"
sidebarTitle: "Docker"
description: "Run AgentOS locally using Docker."
---

This template includes AgentOS and PostgreSQL with pgvector. Run locally for development, or deploy to any cloud that supports Docker.

## Step-by-step Guide

<Steps>
<Step title="Install tools">

- Install [Docker Desktop](https://docs.docker.com/desktop/install/mac-install/)
- Install [uv](https://docs.astral.sh/uv/) (Python package manager)

</Step>

<Step title="Create and activate a virtual environment">

```bash
uv venv --python 3.12
source .venv/bin/activate
```

</Step>

<Step title="Install Agno">

```bash
uv pip install -U 'agno[infra]'
```

</Step>

<Step title="Create your codebase">

```bash
ag infra create --template agentos-docker --name agentos-docker

cd agentos-docker
```

<Tip>
Or clone directly: `git clone https://github.com/agno-agi/agentos-docker-template.git`
</Tip>

</Step>

<Step title="Export your API key">

```bash
export OPENAI_API_KEY=sk-***
```

<Tip>
Agno works with any model provider. Just update the agents in your codebase.
</Tip>

</Step>

<Step title="Start your AgentOS">

```bash
docker compose up -d --build
```

</Step>

<Step title="Verify it works">

Open http://localhost:8000/docs to see your AgentOS API:

<Frame>
  <img src="/images/agentos-endpoints.png" alt="AgentOS FastAPI endpoints" />
</Frame>

</Step>

<Step title="Connect your AgentOS to the control plane">

1. Open [os.agno.com](https://os.agno.com)
2. Click "Connect OS" and select "Local"
3. Enter `http://localhost:8000`

<Frame>
  <img src="/images/agent-os-connection-dialog.png" alt="AgentOS connection dialog" />
</Frame>

</Step>

</Steps>

## Tips

**Hot reload**: Changes to agents, teams, and workflows are reflected automatically.

**Environment variables**: Restart containers when updating environment variables.

**Common commands:**

| ag infra | docker compose | Description |
|----------|----------------|-------------|
| `ag infra up` | `docker compose up -d --build` | Start containers |
| `ag infra down` | `docker compose down` | Stop containers |
| `ag infra restart` | `docker compose restart` | Restart containers |
| | `docker compose logs -f` | View logs |

**Project structure:**
```
agentos-docker/
├── agents/              # Your agents
├── teams/               # Your teams
├── workflows/           # Your workflows
├── app/                 # AgentOS directory
├── db/                  # Database tables
├── compose.yml          # Docker Compose configuration
├── Dockerfile           # Container build
├── pyproject.toml       # Python dependencies
└── scripts/             # Helper scripts
```

## Deploy to Production

You can deploy this template to any cloud that supports Docker.

**Cloud providers:** [AWS ECS](https://aws.amazon.com/ecs/), [Google Cloud Compute Engine](https://cloud.google.com/compute-engine/), [Azure Virtual Machines](https://azure.microsoft.com/en-us/products/virtual-machines/)

**Platforms:** [Railway](https://railway.app/), [Render](https://render.com/), [DigitalOcean](https://digitalocean.com/), [Fly.io](https://fly.io/), [Modal](https://modal.com/)

## Troubleshooting

<AccordionGroup>
  <Accordion title="Port already in use">
    Modify `compose.yml`:
```yaml
    ports:
      - "8080:8000"  # Change 8000 to 8080
```
  </Accordion>
  <Accordion title="Database connection issues">
    Ensure PostgreSQL is running:
```bash
    docker compose ps
```
    If the database isn't ready, wait a few seconds and try again.
  </Accordion>
</AccordionGroup>