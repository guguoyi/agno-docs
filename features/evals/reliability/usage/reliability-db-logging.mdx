---
title: Reliability with Database Logging
description: Example showing how to store reliability evaluation results in the database.
---


<Steps>

  <Step title="Create a Python file">
    ```python reliability_db_logging.py
    """Example showing how to store evaluation results in the database."""

    from typing import Optional

    from agno.agent import Agent
    from agno.db.postgres.postgres import PostgresDb
    from agno.eval.reliability import ReliabilityEval, ReliabilityResult
    from agno.models.openai import OpenAIResponses
    from agno.run.agent import RunOutput
    from agno.tools.calculator import CalculatorTools

    # Setup the database
    db_url = "postgresql+psycopg://ai:ai@localhost:5432/ai"
    db = PostgresDb(db_url=db_url, eval_table="eval_runs")


    agent = Agent(
        model=OpenAIResponses(id="gpt-5.2"),
        tools=[CalculatorTools()],
    )
    response: RunOutput = agent.run("What is 10!?")

    evaluation = ReliabilityEval(
        db=db,  # Pass the database to the evaluation. Results will be stored in the database.
        name="Tool Call Reliability",
        agent_response=response,
        expected_tool_calls=["factorial"],
    )
    result: Optional[ReliabilityResult] = evaluation.run(print_results=True)
    ```
  </Step>

  <Snippet file="create-venv-step.mdx" />

  <Step title="Install dependencies">
    ```bash
    uv pip install -U openai agno psycopg
    ```
  </Step>

  <Step title="Export your OpenAI API key">

    <CodeGroup>

    ```bash Mac/Linux
      export OPENAI_API_KEY="your_openai_api_key_here"
    ```

    ```bash Windows
      $Env:OPENAI_API_KEY="your_openai_api_key_here"
    ```
    </CodeGroup>
  </Step>

  <Step title="Run Agent">
    ```bash
    python reliability_db_logging.py
    ```
  </Step>

</Steps>
