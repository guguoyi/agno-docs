---
title: WorkflowSession
sidebarTitle: Session
---

## WorkflowSession Attributes

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `session_id` | `str` | Required | Session UUID - this is the workflow_session_id that gets set on agents/teams |
| `user_id` | `Optional[str]` | `None` | ID of the user interacting with this workflow |
| `workflow_id` | `Optional[str]` | `None` | ID of the workflow that this session is associated with |
| `workflow_name` | `Optional[str]` | `None` | Name of the workflow |
| `runs` | `Optional[List[WorkflowRunOutput]]` | `None` | List of workflow runs stored in memory |
| `session_data` | `Optional[Dict[str, Any]]` | `None` | Session Data: session_name, session_state, images, videos, audio |
| `workflow_data` | `Optional[Dict[str, Any]]` | `None` | Workflow configuration and metadata |
| `metadata` | `Optional[Dict[str, Any]]` | `None` | Metadata stored with this workflow session |
| `created_at` | `Optional[int]` | `None` | The unix timestamp when this session was created |
| `updated_at` | `Optional[int]` | `None` | The unix timestamp when this session was last updated |

## WorkflowSession Methods

### `upsert_run(run: WorkflowRunOutput)`

Adds a WorkflowRunOutput to the runs list. If a run with the same `run_id` already exists, it updates the existing run.

### `get_run(run_id: str) -> Optional[WorkflowRunOutput]`

Retrieves a specific workflow run by its `run_id`.

### `get_workflow_history(num_runs: Optional[int] = None) -> List[Tuple[str, str]]`

Gets workflow history as structured data (input, response pairs).

- `num_runs`: Number of recent runs to include. If None, returns all available history.

Returns a list of tuples containing (input, response) pairs from completed workflow runs only.

### `get_workflow_history_context(num_runs: Optional[int] = None) -> Optional[str]`

Gets formatted workflow history context for steps.

- `num_runs`: Number of recent runs to include. If None, returns all available history.

Returns a formatted string containing the workflow history wrapped in `<workflow_history_context>` tags, suitable for providing context to workflow steps.

### `to_dict() -> Dict[str, Any]`

Converts the WorkflowSession to a dictionary for storage, serializing runs to dictionaries.

### `from_dict(data: Mapping[str, Any]) -> Optional[WorkflowSession]`

Creates a WorkflowSession from a dictionary, deserializing runs from dictionaries back to WorkflowRunOutput objects.

